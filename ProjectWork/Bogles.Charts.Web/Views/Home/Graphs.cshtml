@{
    ViewBag.Title = "Graph";
}

<h2>Graph</h2>
<div id="chartdiv"></div>
<div id="mapdiv"></div>


@section scripts {
    <script type="text/javascript">

        $(function () {

            //------------------------------------------------------------------------------------------
            //--------------------------------------------------PRIMO GRAFICO --------------------------
            //------------------------------------------------------------------------------------------

            function firstgraph() {
                var chartData = [
                    {
                        "year": "2000",
                        "cars": 1691,
                        "motorcycles": 737


                    }, {
                        "year": "2001",
                        "cars": 1098,
                        "motorcycles": 680,
                        "bicycles": 910
                    }, {
                        "year": "2002",
                        "cars": 975,
                        "motorcycles": 664,
                        "bicycles": 670
                    }, {
                        "year": "2003",
                        "cars": 1246,
                        "motorcycles": 648,
                        "bicycles": 930
                    }, {
                        "year": "2004",
                        "cars": 1218,
                        "motorcycles": 637,
                        "bicycles": 1010
                    }, {
                        "year": "2005",
                        "cars": 1913,
                        "motorcycles": 133,
                        "bicycles": 1770
                    }, {
                        "year": "2006",
                        "cars": 1299,
                        "motorcycles": 621,
                        "bicycles": 820
                    }, {
                        "year": "2007",
                        "cars": 1110,
                        "motorcycles": 10,
                        "bicycles": 1050
                    }, {
                        "year": "2008",
                        "cars": 765,
                        "motorcycles": 232,
                        "bicycles": 650
                    }, {
                        "year": "2009",
                        "cars": 1145,
                        "motorcycles": 219,
                        "bicycles": 780
                    }, {
                        "year": "2010",
                        "cars": 1163,
                        "motorcycles": 201,
                        "bicycles": 700
                    }, {
                        "year": "2011",
                        "cars": 1780,
                        "motorcycles": 85,
                        "bicycles": 1470
                    }, {
                        "year": "2012",
                        "cars": 1580,
                        "motorcycles": 285
                    }];

                var chart = AmCharts.makeChart("chartdiv", {
                    "type": "serial",
                    "fontFamily": "Lato",
                    "autoMargins": true,
                    "addClassNames": true,
                    "zoomOutText": "",
                    "defs": {
                        "filter": [
                            //{
                            //    "x": "-50%",
                            //    "y": "-50%",
                            //    "width": "200%",
                            //    "height": "200%",
                            //    "id": "blur",
                            //    "feGaussianBlur": {
                            //        "in": "SourceGraphic",
                            //        "stdDeviation": "50"
                            //    }
                            //},
                            {
                                "id": "shadow",
                                "width": "150%",
                                "height": "150%",
                                "feOffset": {
                                    "result": "offOut",
                                    "in": "SourceAlpha",
                                    "dx": "2",
                                    "dy": "2"
                                },
                                "feGaussianBlur": {
                                    "result": "blurOut",
                                    "in": "offOut",
                                    "stdDeviation": "10"
                                },
                                "feColorMatrix": {
                                    "result": "blurOut",
                                    "type": "matrix",
                                    "values": "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .2 0"
                                },
                                "feBlend": {
                                    "in": "SourceGraphic",
                                    "in2": "blurOut",
                                    "mode": "normal"
                                }
                            }
                        ]
                    },
                    "fontSize": 15,
                    "pathToImages": "../amcharts/images/",
                    "dataProvider": chartData,
                    "dataDateFormat": "YYYY",
                    "marginTop": 0,
                    "marginRight": 1,
                    "marginLeft": 0,
                    "autoMarginOffset": 5,
                    "categoryField": "year",
                    "categoryAxis": {
                        "gridAlpha": 0.07,
                        "axisColor": "#DADADA",
                        "startOnAxis": true,
                        "tickLength": 0,
                        "parseDates": true,
                        "minPeriod": "YYYY"
                    },
                    "valueAxes": [
                        {
                            "ignoreAxisWidth": true,
                            "stackType": "regular",
                            "gridAlpha": 0.07,
                            "axisAlpha": 0,
                            "inside": true
                        }
                    ],
                    "graphs": [
                        {
                            "id": "g1",
                            "type": "line",
                            "title": "Cars",
                            "valueField": "cars",
                            //"fillColors": [
                            //    "#0066e3",
                            //    "#802ea9"
                            //],
                            "lineAlpha": 1.2,
                            //"fillAlphas": 0.8,
                            "lineColor": "red",
                            "showBalloon": true,
                            "balloonText": "<div style='margin-bottom:15px;text-shadow: 2px 2px rgba(0, 0, 0, 0.1); font-weight:200;font-size:15px; color:red'>java [[value]]</div>"

                        },
                        {
                            "id": "g2",
                            "type": "line",
                            "title": "Motorcycles",
                            "valueField": "motorcycles",
                            "lineAlpha": 1.2,
                            //"fillAlphas": 0.8,
                            "lineColor": "blue",
                            "showBalloon": true,
                            "balloonText": "<div style='margin-bottom:15px;text-shadow: 2px 2px rgba(0, 0, 0, 0.1); font-weight:200;font-size:15px; color:blue'>c# [[value]]</div>"

                        },
                        {

                            "id": "g3",
                            "type": "line",
                            "title": "Bicycles",
                            "valueField": "bicycles",
                            "lineAlpha": 1.2,
                            //"fillAlphas": 0.8,
                            "lineColor": "green",
                            "showBalloon": true,
                            "balloonText": "<div style='margin-bottom:15px;text-shadow: 2px 2px rgba(0, 0, 0, 0.1); font-weight:200;font-size:15px; color:green'>python [[value]]</div>",
                            //"bullet": "round",
                            //"dashLength": 2,
                            //"bulletBorderAlpha": 1,
                            //"bulletAlpha": 1,
                            //"bulletSize": 15,
                            //"stackable": false,
                            //"bulletColor": "#5d7ad9",
                            //"bulletBorderColor": "#FFFFFF",
                            //"bulletBorderThickness": 3

                        }
                    ],
                    "chartCursor": {
                        "cursorAlpha": 1,
                        "zoomable": false,
                        "cursorColor": "#FFFFFF",
                        "categoryBalloonColor": "#8d83c8",
                        "fullWidth": true,
                        "categoryBalloonDateFormat": "YYYY",
                        "balloonPointerOrientation": "vertical"
                    },
                    "balloon": {
                        "borderAlpha": 0,
                        "fillAlpha": 0,
                        "shadowAlpha": 0,
                        "offsetX": 40,
                        "offsetY": -50
                    }
                });

                // we zoom chart in order to have better blur (form side to side)
                chart.addListener("dataUpdated", zoomChart);

                function zoomChart() {
                    chart.zoomToIndexes(1, chartData.length - 2);
                }
            }


            //------------------------------------------------------------------------------------------
            //------------------------------------------GRAFICO MAPPA-----------------------------------
            //------------------------------------------------------------------------------------------

            function secondgraph() {






                var map = AmCharts.makeChart("mapdiv", {

                    type: "map",
                    "theme": "light",
                    path: "/Scripts/ammap_3.14.2.free/ammap/",

                    dataProvider: {
                        map: "worldLow",
                        zoomLevel: 3.5,
                        zoomLongitude: 10,
                        zoomLatitude: 52,
                        areas: [{
                            title: "Austria",
                            id: "AT",
                            color: "#67b7dc",
                            customData: "1995",
                            groupId: "before2004"
                        }, {
                            title: "Ireland",
                            id: "IE",
                            color: "#67b7dc",
                            customData: "1973",
                            groupId: "before2004"
                        }, {
                            title: "Denmark",
                            id: "DK",
                            color: "#67b7dc",
                            customData: "1973",
                            groupId: "before2004"
                        }, {
                            title: "Finland",
                            id: "FI",
                            color: "#67b7dc",
                            customData: "1995",
                            groupId: "before2004"
                        }, {
                            title: "Sweden",
                            id: "SE",
                            color: "#67b7dc",
                            customData: "1995",
                            groupId: "before2004"
                        }, {
                            title: "Great Britain",
                            id: "GB",
                            color: "#67b7dc",
                            customData: "1973",
                            groupId: "before2004"
                        }, {
                            title: "Italy",
                            id: "IT",
                            color: "#67b7dc",
                            customData: "1957",
                            groupId: "before2004"
                        }, {
                            title: "France",
                            id: "FR",
                            color: "#67b7dc",
                            customData: "1957",
                            groupId: "before2004"
                        }, {
                            title: "Spain",
                            id: "ES",
                            color: "#67b7dc",
                            customData: "1986",
                            groupId: "before2004"
                        }, {
                            title: "Greece",
                            id: "GR",
                            color: "#67b7dc",
                            customData: "1981",
                            groupId: "before2004"
                        }, {
                            title: "Germany",
                            id: "DE",
                            color: "#67b7dc",
                            customData: "1957",
                            groupId: "before2004"
                        }, {
                            title: "Belgium",
                            id: "BE",
                            color: "#67b7dc",
                            customData: "1957",
                            groupId: "before2004"
                        }, {
                            title: "Luxembourg",
                            id: "LU",
                            color: "#67b7dc",
                            customData: "1957",
                            groupId: "before2004"
                        }, {
                            title: "Netherlands",
                            id: "NL",
                            color: "#67b7dc",
                            customData: "1957",
                            groupId: "before2004"
                        }, {
                            title: "Portugal",
                            id: "PT",
                            color: "#67b7dc",
                            customData: "1986",
                            groupId: "before2004"
                        },

                          {
                              title: "Lithuania",
                              id: "LT",
                              color: "#ebdb8b",
                              customData: "2004",
                              groupId: "2004"
                          }, {
                              title: "Latvia",
                              id: "LV",
                              color: "#ebdb8b",
                              customData: "2004",
                              groupId: "2004"
                          }, {
                              title: "Czech Republic ",
                              id: "CZ",
                              color: "#ebdb8b",
                              customData: "2004",
                              groupId: "2004"
                          }, {
                              title: "Slovakia",
                              id: "SK",
                              color: "#ebdb8b",
                              customData: "2004",
                              groupId: "2004"
                          }, {
                              title: "Slovenia",
                              id: "SI",
                              color: "#ebdb8b",
                              customData: "2004",
                              groupId: "2004"
                          }, {
                              title: "Estonia",
                              id: "EE",
                              color: "#ebdb8b",
                              customData: "2004",
                              groupId: "2004"
                          }, {
                              title: "Hungary",
                              id: "HU",
                              color: "#ebdb8b",
                              customData: "2004",
                              groupId: "2004"
                          }, {
                              title: "Cyprus",
                              id: "CY",
                              color: "#ebdb8b",
                              customData: "2004",
                              groupId: "2004"
                          }, {
                              title: "Malta",
                              id: "MT",
                              color: "#ebdb8b",
                              customData: "2004",
                              groupId: "2004"
                          }, {
                              title: "Poland",
                              id: "PL",
                              color: "#ebdb8b",
                              customData: "2004",
                              groupId: "2004"
                          },

                          {
                              title: "Romania",
                              id: "RO",
                              color: "#83c2ba",
                              customData: "2007",
                              groupId: "2007"
                          }, {
                              title: "Bulgaria",
                              id: "BG",
                              color: "#83c2ba",
                              customData: "2007",
                              groupId: "2007"
                          }, {
                              title: "Croatia",
                              id: "HR",
                              color: "#db8383",
                              customData: "2013",
                              groupId: "2013"
                          }
                        ]
                    },

                    areasSettings: {
                        rollOverOutlineColor: "#FFFFFF",
                        rollOverColor: "#CC0000",
                        alpha: 0.8,
                        unlistedAreasAlpha: 0.1,
                        balloonText: "[[title]] joined EU at [[customData]]"
                    },


                    legend: {
                        width: "100%",
                        marginRight: 27,
                        marginLeft: 27,
                        equalWidths: false,
                        backgroundAlpha: 0.5,
                        backgroundColor: "#FFFFFF",
                        borderColor: "#ffffff",
                        borderAlpha: 1,
                        top: 450,
                        left: 0,
                        autoMargins:true,
                        horizontalGap: 10,
                        data: [{
                            title: "EU member before 2004",
                            color: "#67b7dc"
                        }, {
                            title: "Joined at 2004",
                            color: "#ebdb8b"
                        }, {
                            title: "Joined at 2007",
                            color: "#83c2ba"
                        }, {
                            title: "Joined at 2013",
                            color: "#db8383"
                        }]
                    },
                    "export": {
                        "enabled": true
                    }

                });
                        
                        
            }
            
            firstgraph();
            secondgraph();

        })

    </script>
}

<script src="~/Scripts/ammap_3.14.2.free/ammap/ammap.js"></script>
<script src="~/Scripts/amcharts_3.14.2.free/amcharts/amcharts.js"></script>

<script src="~/Scripts/amcharts_3.14.2.free/amcharts/serial.js"></script>
<script src="~/Scripts/amcharts_3.14.2.free/amcharts/themes/light.js"></script>
<script src="~/Scripts/ammap_3.14.2.free/ammap/maps/js/worldLow.js"></script>


